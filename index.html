<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image to Drawing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        #myCanvas {
            border: 1px solid black;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<input type="file" id="imageUpload" accept="image/*">
<button onclick="convertToDrawing()">Convert to Drawing</button>
<canvas id="myCanvas" width="600" height="400"></canvas>

<script>
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');
    let img = new Image();

    document.getElementById('imageUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            img.onload = function() {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0);
            }
            img.src = event.target.result;
        }

        reader.readAsDataURL(file);
    });

    function convertToDrawing() {
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        const data = imageData.data;

        // Convert to grayscale
        for (let i = 0; i < data.length; i += 4) {
            const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;
            data[i] = avg;
            data[i + 1] = avg;
            data[i + 2] = avg;
        }

        // Draw continuous random lines to mimic the SVG effect (this is a simplified version)
        for (let i = 0; i < data.length; i += 4) {
            if (data[i] < 128) {
                const angle = Math.random() * 2 * Math.PI;
                const length = Math.random() * 5; // You can adjust this value
                const x = (i / 4) % canvas.width;
                const y = Math.floor((i / 4) / canvas.width);
                const newX = x + Math.cos(angle) * length;
                const newY = y + Math.sin(angle) * length;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(newX, newY);
                ctx.stroke();
            }
        }

        ctx.putImageData(imageData, 0, 0);
    }
</script>
</body>
</html>
